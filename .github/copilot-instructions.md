# GitHub Copilot ã¸ã®æŒ‡ç¤º

## ğŸ¯ åŸºæœ¬æ–¹é‡
- **æ—¥æœ¬èªã§å¿œç­”ã™ã‚‹ã“ã¨**
- **å¿…è¦ã«å¿œã˜ã¦ãƒ¦ãƒ¼ã‚¶ã«è³ªå•ã—ã€è¦æ±‚ã‚’æ˜ç¢ºã«ã™ã‚‹**
- ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚’å³å®ˆã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨
- å‘½åè¦å‰‡ã¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã«ç‰¹ã«æ³¨æ„ã‚’æ‰•ã†ã“ã¨
- å®Ÿè£…å‰ã«ã¯å¿…ãšWebã§æœ€æ–°æƒ…å ±ã‚’æ¤œç´¢ã™ã‚‹ã“ã¨

## ğŸ“‹ é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹

### ã‚¹ãƒ†ãƒƒãƒ—1: è¨ˆç”»ç«‹æ¡ˆ
ãƒ¦ãƒ¼ã‚¶ã®æŒ‡ç¤ºã«å¯¾ã—ã¦ã€ã¾ãšå®Ÿè£…è¨ˆç”»ã‚’ç«‹ã¦ã¦ãã ã•ã„ã€‚

**è¨ˆç”»æ™‚ã®å¿…é ˆç¢ºèªäº‹é …:**
- ãƒªãƒã‚¸ãƒˆãƒªå…¨èˆ¬ã«é–¢ã‚ã‚‹ã“ã¨ã¯ã€**å¿…ãš`docs/**.md`å†…ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§**
- ãƒ¦ãƒ¼ã‚¶ã®æŒ‡ç¤ºãŒä¸æ˜ç­ãªå ´åˆã¯ã€å¿…è¦ãªæƒ…å ±ã‚’è³ªå•ã—ã¦æ˜ç¢ºåŒ–

**è¨ˆç”»ã«å«ã‚ã‚‹ã¹ãå†…å®¹:**
- å®Ÿè£…æ‰‹é †ã®æ˜ç¢ºåŒ–
- å¿…è¦ãªæ©Ÿèƒ½ã®æ´—ã„å‡ºã—
- ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é¸å®š

### ã‚¹ãƒ†ãƒƒãƒ—2: è¨ˆç”»ç¢ºèª
- è¨ˆç”»ã‚’ç«‹ã¦ãŸå¾Œã€**å¿…ãšãƒ¦ãƒ¼ã‚¶ã«ç¢ºèªã‚’æ±‚ã‚ã‚‹**
- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚ã£ãŸå ´åˆã¯è¨ˆç”»ã‚’ä¿®æ­£

### ã‚¹ãƒ†ãƒƒãƒ—3: å®Ÿè£…
è¨ˆç”»ã«OKãŒå‡ºãŸã‚‰ã€ä»¥ä¸‹ã®å“è³ªåŸºæº–ã«å¾“ã£ã¦å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### çµå©šå¼æ‹›å¾…ã‚µã‚¤ãƒˆï¼ˆ2025å¹´11æœˆ3æ—¥ï¼‰
- **ä¸»è¦æ©Ÿèƒ½**: RSVP ã‚·ã‚¹ãƒ†ãƒ ã€ä¼šå ´æ¡ˆå†…ã€ç®¡ç†ç”»é¢
- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Next.js 14 App Router + Firebase Firestore + Tailwind CSS
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: Vercelï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰+ GCPï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãƒ‘ã‚¿ãƒ¼ãƒ³
```
app/                    # Next.js 14 App Router
â”œâ”€â”€ page.tsx           # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”œâ”€â”€ layout.tsx         # å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â””â”€â”€ rsvp/
    â””â”€â”€ submit.ts      # API Routes

components/             # å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ RSVPForm.tsx       # ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â””â”€â”€ *.tsx

lib/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»è¨­å®š
â””â”€â”€ firebase.ts        # Firebaseè¨­å®š

docs/                  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä»•æ§˜æ›¸
â”œâ”€â”€ technical/         # æŠ€è¡“ä»•æ§˜
â”œâ”€â”€ architecture/      # ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ
â””â”€â”€ development/       # é–‹ç™ºã‚¬ã‚¤ãƒ‰
```

## ğŸ’» å®Ÿè£…å“è³ªåŸºæº–

### Firebaseçµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³
- **è¨­å®š**: `lib/firebase.ts`ã§ä¸€å…ƒç®¡ç†
- **ç’°å¢ƒå¤‰æ•°**: `NEXT_PUBLIC_FIREBASE_*`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹
- **ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³**: `rsvps` (å‡ºæ¬ ãƒ‡ãƒ¼ã‚¿), `admin` (ç®¡ç†è¨­å®š)
- **API Routes**: `app/*/submit.ts`ãƒ‘ã‚¿ãƒ¼ãƒ³ã§Firestoreæ“ä½œ

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
- **'use client'**æŒ‡å®šã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ˜ç¤º
- **TypeScript interface**ã§ props ã®å‹å®šç¾©å¿…é ˆ
- **Tailwind CSS**ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ä½¿ç”¨
- **React Hook Form + Yup**ã§ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### APIè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// app/rsvp/submit.ts ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
export async function POST(req: NextRequest) {
  const body = await req.json();
  // Firestoreæ“ä½œ
  await addDoc(collection(db, 'rsvps'), data);
  return new Response('OK', { status: 200 });
}
```

## ï¿½ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### å¿…é ˆã‚³ãƒãƒ³ãƒ‰
```bash
# é–‹ç™ºç’°å¢ƒèµ·å‹•
npm run dev                 # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

# ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆ
npm run build              # æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run start              # æœ¬ç•ªç’°å¢ƒã§ã®ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•
npm run lint               # ESLintãƒã‚§ãƒƒã‚¯
npm run type-check         # TypeScriptå‹ãƒã‚§ãƒƒã‚¯

# Firebaseé–¢é€£
firebase emulators:start   # Firestore ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿
firebase deploy            # Firebaseè¨­å®šãƒ»ãƒ«ãƒ¼ãƒ«ãƒ‡ãƒ—ãƒ­ã‚¤

# ãƒ‡ãƒ—ãƒ­ã‚¤
vercel --prod             # Vercelæœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
vercel                    # Vercelãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤
```

### ãƒ‡ãƒãƒƒã‚°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
```bash
# ãƒ­ã‚°ç¢ºèª
vercel logs               # Vercelæœ¬ç•ªãƒ­ã‚°
firebase functions:log    # Firebase Functions ãƒ­ã‚°

# ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒãƒƒã‚°
npm run dev:debug         # Debuggerãƒãƒ¼ãƒˆä»˜ãã§èµ·å‹•
npm run analyze           # Bundleåˆ†æ
```

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
```bash
# æ¨å¥¨ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰ï¼ˆå°†æ¥è¿½åŠ æ™‚ï¼‰
npm test                  # Jestå˜ä½“ãƒ†ã‚¹ãƒˆ
npm run test:e2e         # Playwright E2Eãƒ†ã‚¹ãƒˆ
npm run test:coverage    # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ã‚¿ãƒ¼ãƒ³

### Firestore ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ï¼ˆå¿…é ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
```javascript
// firestore.rules
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /rsvps/{document} {
      allow create: if isValidRSVPData(request.resource.data);
      allow read, update, delete: if isAuthenticated() && isAdmin();
    }
    match /admin/{document} {
      allow read, write: if isAuthenticated() && isAdmin();
    }
  }
}
```

### å…¥åŠ›æ¤œè¨¼ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯ä¸¡æ–¹å¿…é ˆï¼‰
```typescript
// ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆReact Hook Form + Yupï¼‰
const rsvpSchema = yup.object({
  name: yup.string().required().max(50)
    .matches(/^[\p{L}\p{N}\s\-\.]+$/u),
  email: yup.string().email().required().max(100),
  attendance: yup.string().oneOf(['yes', 'no']).required()
});

// ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆAPI Routesï¼‰
const sanitizedData = {
  name: DOMPurify.sanitize(data.name),
  email: validator.normalizeEmail(data.email),
  // ... 
};
```

### ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// app/rsvp/submit.ts
const rateLimit = checkRateLimit(request, {
  maxRequests: 3,        // 1æ™‚é–“ã«3å›ã¾ã§
  windowMs: 60 * 60 * 1000
});
if (!rateLimit.allowed) {
  return new Response('Rate limit exceeded', { status: 429 });
}
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥

### Vercelè¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³
```json
// vercel.json
{
  "framework": "nextjs",
  "functions": {
    "app/api/rsvp/submit.ts": { "maxDuration": 30 }
  },
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        { "key": "X-Content-Type-Options", "value": "nosniff" },
        { "key": "X-Frame-Options", "value": "DENY" }
      ]
    }
  ]
}
```

### ç’°å¢ƒå¤‰æ•°ç®¡ç†
```bash
# å¿…é ˆç’°å¢ƒå¤‰æ•°ï¼ˆVercelè¨­å®šï¼‰
NEXT_PUBLIC_FIREBASE_API_KEY
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN  
NEXT_PUBLIC_FIREBASE_PROJECT_ID
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY
ADMIN_EMAILS                      # ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š
```

### CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
```yaml
# .github/workflows/deploy.yml
name: Deploy
on:
  push:
    branches: [main]
jobs:
  deploy:
    steps:
      - run: npm ci
      - run: npm run lint
      - run: npm run build
      - uses: amondnet/vercel-action@v25
```

## ğŸ¨ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

### RSVPãƒ•ã‚©ãƒ¼ãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆé‡è¦ï¼‰
```typescript
// components/RSVPForm.tsx
'use client';
import { useForm } from 'react-hook-form';
import { yupResolver } from '@hookform/resolvers/yup';

interface RSVPFormProps {
  onSubmit: (data: RSVPFormData) => void;
  isLoading?: boolean;
  error?: string;
}

const RSVPForm: React.FC<RSVPFormProps> = ({ onSubmit, isLoading, error }) => {
  const { register, handleSubmit, formState: { errors } } = useForm({
    resolver: yupResolver(rsvpSchema)
  });

  return (
    <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
      {/* ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£… */}
    </form>
  );
};
```

### Firebaseãƒ‡ãƒ¼ã‚¿æ“ä½œãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// lib/firebase-operations.ts
import { db } from '@/lib/firebase';
import { collection, addDoc, query, where, getDocs } from 'firebase/firestore';

export async function submitRSVP(data: RSVPData) {
  try {
    await addDoc(collection(db, 'rsvps'), {
      ...data,
      timestamp: new Date(),
      ipAddress: getClientIP()
    });
  } catch (error) {
    throw new Error('RSVPé€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ');
  }
}
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// lib/error-handler.ts
export class AppError extends Error {
  constructor(
    public message: string,
    public code: string,
    public statusCode: number = 500
  ) {
    super(message);
    this.name = 'AppError';
  }
}

// API Routesã§ã®ä½¿ç”¨
try {
  // å‡¦ç†
} catch (error) {
  if (error instanceof AppError) {
    return new Response(error.message, { status: error.statusCode });
  }
  return new Response('Internal Server Error', { status: 500 });
}
```

## ï¿½ğŸ“š å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦ä»¶
- `docs/technical/project-overview.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºæœ¬æƒ…å ±
- `docs/technical/tech-stack.md` - æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°
- `docs/architecture/database-design.md` - Firestore ã‚¹ã‚­ãƒ¼ãƒ
- `docs/design/page-specifications.md` - UI/UXè¦ä»¶

### é–‹ç™ºãƒ»é‹ç”¨ã‚¬ã‚¤ãƒ‰
- `docs/development/setup-guide.md` - ç’°å¢ƒæ§‹ç¯‰æ‰‹é †
- `docs/development/deployment.md` - ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
- `docs/architecture/security.md` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»•æ§˜

## ğŸ“ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### å‘½åè¦å‰‡

#### å¤‰æ•°å
- **ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹** (`camelCase`) ã‚’ä½¿ç”¨
- ä¾‹: `userName`, `orderId`
- **çŸ­ç¸®å½¢ã¯é¿ã‘ã‚‹**
- ä¾‹: `usrNm` âŒ â†’ `userName` âœ…

#### å®šæ•°
- **ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹** (`SNAKE_CASE`) ã‚’ä½¿ç”¨
- ä¾‹: `MAX_RETRIES`, `DEFAULT_TIMEOUT`

#### é–¢æ•°å
- **å‹•è©ã‹ã‚‰å§‹ã‚ã‚‹** + ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹
- ä¾‹: `getUserProfile`, `calculateTotalPrice`
- æ©Ÿèƒ½ãŒæ˜ç¢ºã«ã‚ã‹ã‚‹å‘½å

#### ã‚¯ãƒ©ã‚¹å
- **ãƒ‘ã‚¹ã‚«ãƒ«ã‚±ãƒ¼ã‚¹** (`PascalCase`) ã‚’ä½¿ç”¨
- ä¾‹: `UserService`, `ProductRepository`

### ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¦å‰‡

#### ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ
- **ã‚¹ãƒšãƒ¼ã‚¹2ã¤**ã‚’ä½¿ç”¨ï¼ˆã‚¿ãƒ–ç¦æ­¢ï¼‰

#### ã‚³ãƒ¡ãƒ³ãƒˆ
- è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã«ã¯JSDocå½¢å¼ã®ã‚³ãƒ¡ãƒ³ãƒˆ
- TODOã‚³ãƒ¡ãƒ³ãƒˆã¯å¯¾å¿œå®Œäº†å¾Œã«å‰Šé™¤

#### ãã®ä»–
- ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã¯å®šæ•°ã¨ã—ã¦å®šç¾©
- é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã®ãƒ­ã‚°å‡ºåŠ›ã«æ³¨æ„

## âš ï¸ å®Ÿè£…å‰ã®å¿…é ˆäº‹é …
- **å®Ÿè£…ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¤‰æ›´å‰ã«å¿…ãšWebæ¤œç´¢**
- å•é¡Œç™ºç”Ÿæ™‚ã¯ã¾ãšWebæ¤œç´¢ï¼ˆè¨˜æ†¶ã«ä¾å­˜ã—ãªã„ï¼‰
- æœ€æ–°ã®æŠ€è¡“æƒ…å ±ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ç¢ºèª