<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Maps ãƒ†ã‚¹ãƒˆ</title>
    <style>
        #map { 
            height: 400px; 
            width: 100%; 
            margin: 20px 0;
            border: 2px solid #e65555;
            border-radius: 8px;
        }
        body { 
            font-family: 'Noto Sans JP', sans-serif; 
            margin: 20px;
            background: #f9f9f9;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 14px;
        }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <h1>ğŸ—ºï¸ Google Maps API ãƒ†ã‚¹ãƒˆ</h1>
    
    <div id="status-container">
        <div class="status info">Google Maps API ã‚’èª­ã¿è¾¼ã¿ä¸­...</div>
    </div>
    
    <div id="venue-info">
        <h3>ğŸ“ å¼å ´æƒ…å ±</h3>
        <p><strong>åå‰:</strong> <span id="venue-name">-</span></p>
        <p><strong>ä½æ‰€:</strong> <span id="venue-address">-</span></p>
        <p><strong>åº§æ¨™:</strong> <span id="venue-coordinates">-</span></p>
    </div>
    
    <div id="map"></div>
    
    <div id="instructions">
        <h3>ğŸ”§ è¨­å®šç¢ºèª</h3>
        <p>ã“ã®ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã§Google MapsãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆï¼š</p>
        <ol>
            <li><code>.env.local</code> ãƒ•ã‚¡ã‚¤ãƒ«ã« <code>NEXT_PUBLIC_GOOGLE_MAPS_API_KEY</code> ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
            <li>Google Cloud Console ã§ Maps JavaScript API ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª</li>
            <li>APIã‚­ãƒ¼ã®åˆ¶é™è¨­å®šã§ <code>localhost</code> ãŒè¨±å¯ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
            <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª</li>
        </ol>
    </div>

    <script>
        // ç’°å¢ƒå¤‰æ•°ã®ç¢ºèªï¼ˆNext.jsã®å ´åˆã¯å®Ÿéš›ã®ã‚µã‚¤ãƒˆã§ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰
        function updateStatus(message, type = 'info') {
            const container = document.getElementById('status-container');
            container.innerHTML = `<div class="status ${type}">${message}</div>`;
        }

        function updateVenueInfo() {
            // ã“ã®ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã§ã¯å›ºå®šå€¤ã‚’ä½¿ç”¨
            document.getElementById('venue-name').textContent = 'ã‚µãƒ³ãƒ—ãƒ«ãƒ›ãƒ†ãƒ«';
            document.getElementById('venue-address').textContent = 'æ±äº¬éƒ½æ¸¯åŒºåŒ—é’å±±ï¼“ä¸ç›®ï¼•ï¼ï¼‘ï¼•';
            document.getElementById('venue-coordinates').textContent = '35.6762, 139.6503';
        }

        function initMap() {
            updateStatus('Google Maps API èª­ã¿è¾¼ã¿æˆåŠŸï¼ãƒãƒƒãƒ—ã‚’åˆæœŸåŒ–ä¸­...', 'success');
            
            const venue = {
                lat: 35.6762,
                lng: 139.6503
            };

            const map = new google.maps.Map(document.getElementById('map'), {
                zoom: 16,
                center: venue,
                styles: [
                    {
                        featureType: 'all',
                        stylers: [
                            { saturation: -20 },
                            { lightness: 10 }
                        ]
                    }
                ]
            });

            const marker = new google.maps.Marker({
                position: venue,
                map: map,
                title: 'ã‚µãƒ³ãƒ—ãƒ«ãƒ›ãƒ†ãƒ«',
                icon: {
                    path: google.maps.SymbolPath.CIRCLE,
                    fillColor: '#e65555',
                    fillOpacity: 1,
                    strokeColor: '#ffffff',
                    strokeWeight: 3,
                    scale: 12
                }
            });

            const infoWindow = new google.maps.InfoWindow({
                content: `
                    <div style="padding: 10px; font-family: 'Noto Sans JP', sans-serif;">
                        <h3 style="margin: 0 0 8px 0; color: #e65555;">ã‚µãƒ³ãƒ—ãƒ«ãƒ›ãƒ†ãƒ«</h3>
                        <p style="margin: 0; color: #666;">æ±äº¬éƒ½æ¸¯åŒºåŒ—é’å±±ï¼“ä¸ç›®ï¼•ï¼ï¼‘ï¼•</p>
                    </div>
                `
            });

            marker.addListener('click', () => {
                infoWindow.open(map, marker);
            });

            updateStatus('âœ… Google Maps ãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã¾ã—ãŸï¼', 'success');
        }

        function handleMapError() {
            updateStatus('âŒ Google Maps ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚APIã‚­ãƒ¼ã‚„è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚', 'error');
        }

        // åˆæœŸåŒ–
        updateVenueInfo();

        // Google Maps API ã®èª­ã¿è¾¼ã¿ï¼ˆå®Ÿéš›ã®APIã‚­ãƒ¼ãŒå¿…è¦ï¼‰
        // ã“ã®ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€æ‰‹å‹•ã§APIã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ãã ã•ã„
        const apiKey = 'YOUR_API_KEY_HERE'; // å®Ÿéš›ã®APIã‚­ãƒ¼ã«ç½®ãæ›ãˆã¦ãã ã•ã„
        
        if (apiKey === 'YOUR_API_KEY_HERE') {
            updateStatus('âš ï¸ ã“ã®ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã®APIã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚', 'error');
        } else {
            const script = document.createElement('script');
            script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initMap&libraries=places`;
            script.onerror = handleMapError;
            document.head.appendChild(script);
        }
    </script>
</body>
</html>
